# GP Practice Demo Configuration
# ç¤ºä¾‹ï¼šä¼¦æ•¦å…¨ç§‘åŒ»ç”Ÿè¯Šæ‰€

tenant:
  id: "gp_london_demo"
  name: "London Primary Care Practice"
  type: "gp_practice"
  domain: "londonpcp.nhs.uk"
  
  # è®¢é˜…ä¿¡æ¯
  subscription:
    tier: "Premium"
    monthly_cost: 299.00
    currency: "GBP"
    billing_cycle: "monthly"
    trial_period_days: 30
    
  # æœåŠ¡é™åˆ¶
  limits:
    max_users: 1000
    max_alerts_per_month: 10000
    max_api_calls_per_month: 100000
    max_messages_per_month: 5000
    max_data_sources: 10
    
  # è”ç³»ä¿¡æ¯
  contact:
    primary_email: "admin@londonpcp.nhs.uk"
    billing_email: "finance@londonpcp.nhs.uk"
    technical_contact: "it@londonpcp.nhs.uk"
    phone: "+44 20 7946 0958"
    address:
      street: "123 Healthcare Street"
      city: "London"
      postcode: "SW1A 1AA"
      country: "United Kingdom"

# å“ç‰Œå®šåˆ¶
branding:
  logo_url: "https://cdn.londonpcp.nhs.uk/logo.png"
  favicon_url: "https://cdn.londonpcp.nhs.uk/favicon.ico"
  colors:
    primary: "#005EB8"  # NHSè“è‰²
    secondary: "#41B6E6"  # NHSæµ…è“
    accent: "#FFB81C"   # NHSé»„è‰²
    background: "#FFFFFF"
    text: "#212B32"
  fonts:
    primary: "Frutiger, Arial, sans-serif"  # NHSå­—ä½“
    secondary: "Arial, sans-serif"
  custom_css: |
    .nhs-header {
      background: linear-gradient(90deg, #005EB8 0%, #41B6E6 100%);
    }
    .alert-card {
      border-left: 4px solid #005EB8;
    }

# NHSç‰¹å®šé…ç½®
nhs_config:
  # æ”¯æŒçš„ä¸“ç§‘
  specialties:
    - "Cardiology"
    - "Dermatology" 
    - "Gastroenterology"
    - "General Surgery"
    - "Gynaecology"
    - "Ophthalmology"
    - "Orthopaedics"
    - "Urology"
    - "ENT"
    - "Plastic Surgery"
  
  # æœåŠ¡çš„åœ°ç†åŒºåŸŸ
  catchment_area:
    - "Westminster"
    - "Camden"
    - "Islington"
    - "Tower Hamlets"
  
  # CCG/ICBä¿¡æ¯
  commissioning:
    ccg_code: "09A"
    ccg_name: "NHS Central and North West London CCG"
    icb_code: "QRV"
    icb_name: "North West London ICB"
  
  # æ•°æ®æ›´æ–°é¢‘ç‡
  data_refresh:
    rtt_data: "daily"  # æ¯æ—¥æ›´æ–°RTTæ•°æ®
    waiting_lists: "hourly"  # æ¯å°æ—¶æ›´æ–°ç­‰å€™åˆ—è¡¨
    provider_capacity: "weekly"  # æ¯å‘¨æ›´æ–°æä¾›è€…å®¹é‡

# é€šçŸ¥é…ç½®
notifications:
  # WhatsApp Businessè®¾ç½®
  whatsapp:
    enabled: true
    business_account_id: "123456789012345"
    phone_number_id: "109876543210987"
    display_name: "London Primary Care"
    
    # WhatsApp Flowé…ç½®
    flows:
      patient_registration:
        flow_id: "123456789"
        version: "1.0"
        name: "Patient Registration Flow"
      
      appointment_booking:
        flow_id: "987654321"
        version: "2.1" 
        name: "Appointment Booking Flow"
      
      waiting_time_alert:
        flow_id: "456789123"
        version: "1.5"
        name: "Waiting Time Alert Flow"
    
    # æ¶ˆæ¯æ¨¡æ¿
    templates:
      welcome: |
        ğŸ¥ Welcome to London Primary Care Practice!
        
        We'll keep you updated on NHS waiting times for your referrals.
        
        Use the menu below to:
        ğŸ“‹ Check current waiting times
        ğŸ“… Book appointments  
        âš™ï¸ Manage preferences
      
      waiting_time_update: |
        ğŸ“Š *Waiting Time Update*
        
        {specialty} at {provider}:
        â±ï¸ Current wait: {current_weeks} weeks
        ğŸ“ˆ Change: {change} from last week
        
        {recommendation_message}
      
      alternative_suggestion: |
        ğŸ” *Alternative Options Available*
        
        Shorter waiting times found:
        
        {alternatives_list}
        
        Would you like to explore these options?
  
  # SMSè®¾ç½® (åå¤‡)
  sms:
    enabled: true
    provider: "twilio"
    sender_id: "LondonPCP"
    
    templates:
      alert: "NHS Alert: {specialty} waiting time at {provider} is now {weeks} weeks. {action_required}"
      reminder: "Appointment reminder: {date} at {time} for {specialty}. Location: {address}"
  
  # Emailè®¾ç½®
  email:
    enabled: true
    from_address: "alerts@londonpcp.nhs.uk"
    from_name: "London Primary Care Practice"
    signature: |
      ---
      London Primary Care Practice
      123 Healthcare Street, London SW1A 1AA
      Phone: 020 7946 0958
      Web: www.londonpcp.nhs.uk

# æé†’è§„åˆ™é…ç½®
alert_rules:
  # åŸºç¡€ç­‰å€™æ—¶é—´æé†’
  waiting_time_threshold:
    enabled: true
    threshold_weeks: 18
    priority: "high"
    message: "Waiting time has exceeded 18 weeks - patient choice options available"
  
  # å¿«é€Ÿæ”¹å–„æé†’
  rapid_improvement:
    enabled: true
    improvement_threshold: 4  # 4å‘¨æ”¹å–„
    priority: "medium"
    message: "Significant improvement in waiting times - consider rebooking"
  
  # æ¶åŒ–é¢„è­¦
  deterioration_warning:
    enabled: true
    deterioration_threshold: 2  # 2å‘¨æ¶åŒ–
    priority: "medium"
    message: "Waiting times increasing - monitor closely"
  
  # æ›¿ä»£é€‰é¡¹
  alternative_provider:
    enabled: true
    max_distance_miles: 25
    max_additional_weeks: -2  # è‡³å°‘çŸ­2å‘¨
    priority: "low"
    message: "Shorter waiting times available at nearby providers"

# æ•°æ®æºé…ç½®
data_sources:
  nhs_england_rtt:
    enabled: true
    url: "https://www.england.nhs.uk/statistics/statistical-work-areas/rtt-waiting-times/"
    update_frequency: "daily"
    retention_days: 365
    
    # æ•°æ®è´¨é‡æ£€æŸ¥
    quality_checks:
      missing_data_threshold: 5  # 5%ç¼ºå¤±æ•°æ®å‘Šè­¦
      outlier_detection: true
      historical_comparison: true
  
  local_provider_data:
    enabled: true
    sources:
      - name: "Imperial College Healthcare NHS Trust"
        api_endpoint: "https://api.imperial.nhs.uk/rtt"
        auth_type: "bearer_token"
      - name: "Central and North West London NHS Foundation Trust"
        api_endpoint: "https://api.cnwl.nhs.uk/waiting-times"
        auth_type: "api_key"

# åˆ†æå’ŒæŠ¥å‘Š
analytics:
  # æ•°æ®ä¿ç•™ç­–ç•¥
  retention:
    raw_data_days: 1095  # 3å¹´
    aggregated_data_days: 1825  # 5å¹´
    user_activity_days: 730  # 2å¹´
  
  # æŠ¥å‘Šç”Ÿæˆ
  reports:
    monthly_summary:
      enabled: true
      recipients: ["admin@londonpcp.nhs.uk", "clinical.lead@londonpcp.nhs.uk"]
      format: "pdf"
    
    weekly_trends:
      enabled: true
      recipients: ["admin@londonpcp.nhs.uk"]
      format: "email"
    
    patient_outcomes:
      enabled: true
      frequency: "quarterly"
      recipients: ["clinical.governance@londonpcp.nhs.uk"]
      format: "pdf"

# é›†æˆé…ç½®
integrations:
  # æ‚£è€…ç®¡ç†ç³»ç»Ÿé›†æˆ
  pms_integration:
    enabled: true
    system: "EMIS Web"
    api_endpoint: "https://api.emisweb.com/v1"
    sync_frequency: "real-time"
    
    # åŒæ­¥çš„æ•°æ®ç±»å‹
    sync_data:
      - "patient_demographics"
      - "referral_status"
      - "appointment_history"
  
  # ç”µå­æ¨èæœåŠ¡ (e-RS)
  ers_integration:
    enabled: true
    endpoint: "https://api.ers.nhs.uk/v1"
    auto_update_referrals: true
    
  # NHS Loginé›†æˆ
  nhs_login:
    enabled: true
    client_id: "nhs_login_client_id"
    redirect_uri: "https://londonpcp.nhs.uk/auth/callback"

# å®‰å…¨é…ç½®
security:
  # æ•°æ®ä¿æŠ¤
  data_protection:
    encryption_at_rest: true
    encryption_in_transit: true
    gdpr_compliant: true
    
    # æ‚£è€…æ•°æ®å¤„ç†
    patient_data:
      pseudonymization: true
      retention_policy: "7_years"  # NHSè®°å½•ä¿ç•™è¦æ±‚
      access_logging: true
  
  # è®¿é—®æ§åˆ¶
  access_control:
    mfa_required: true
    session_timeout_minutes: 30
    password_policy:
      min_length: 12
      require_special_chars: true
      require_numbers: true
      require_uppercase: true
  
  # å®¡è®¡
  audit:
    log_all_access: true
    log_data_changes: true
    retention_days: 2555  # 7å¹´
    export_format: "csv"

# ç”¨æˆ·ä½“éªŒé…ç½®
user_experience:
  # è¯­è¨€æ”¯æŒ
  languages:
    default: "en-GB"
    supported: ["en-GB", "hi-IN", "ur-PK", "ar-SA", "pl-PL"]
  
  # æ— éšœç¢åŠŸèƒ½
  accessibility:
    screen_reader_support: true
    high_contrast_mode: true
    font_size_adjustment: true
    keyboard_navigation: true
  
  # æ‚£è€…åå¥½
  patient_preferences:
    communication_channels: ["whatsapp", "sms", "email"]
    notification_timing: ["morning", "afternoon", "evening"]
    frequency_options: ["immediate", "daily", "weekly"]

# ç›‘æ§å’Œæ€§èƒ½
monitoring:
  # æ€§èƒ½æŒ‡æ ‡
  performance_targets:
    api_response_time_ms: 200
    page_load_time_ms: 1500
    uptime_percentage: 99.9
  
  # ä¸šåŠ¡æŒ‡æ ‡
  business_metrics:
    patient_engagement_rate: 85
    referral_completion_rate: 95
    user_satisfaction_score: 4.5
  
  # å‘Šè­¦è®¾ç½®
  alerts:
    high_usage: true
    performance_degradation: true
    security_incidents: true
    data_quality_issues: true

# åŸ¹è®­å’Œæ”¯æŒ
support:
  # ç”¨æˆ·åŸ¹è®­
  training:
    staff_onboarding: true
    patient_education: true
    documentation_url: "https://docs.londonpcp.nhs.uk"
  
  # æŠ€æœ¯æ”¯æŒ
  technical_support:
    support_hours: "24/7"
    escalation_levels: 3
    response_time_sla:
      critical: "15_minutes"
      high: "1_hour"
      medium: "4_hours"
      low: "1_business_day" 